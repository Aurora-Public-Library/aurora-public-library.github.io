!function(e){var n,t,o;"function"==typeof define&&define.amd&&(define(e),n=!0),"object"==typeof exports&&(module.exports=e(),n=!0),n||(t=window.Cookies,(o=window.Cookies=e()).noConflict=function(){return window.Cookies=t,o})}(function(){function f(){for(var e=0,n={};e<arguments.length;e++){var t,o=arguments[e];for(t in o)n[t]=o[t]}return n}function p(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(u){function c(){}function t(e,n,t){if("undefined"!=typeof document){"number"==typeof(t=f({path:"/"},c.defaults,t)).expires&&(t.expires=new Date(+new Date+864e5*t.expires)),t.expires=t.expires?t.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=u.write?u.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r,i="";for(r in t)t[r]&&(i+="; "+r,!0!==t[r]&&(i+="="+t[r].split(";")[0]));return document.cookie=e+"="+n+i}}function n(e,n){if("undefined"!=typeof document){for(var t={},o=document.cookie?document.cookie.split("; "):[],r=0;r<o.length;r++){var i=o[r].split("="),c=i.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var f=p(i[0]),c=(u.read||u)(c,f)||p(c);if(n)try{c=JSON.parse(c)}catch(e){}if(t[f]=c,e===f)break}catch(e){}}return e?t[e]:t}}return c.set=t,c.get=function(e){return n(e,!1)},c.getJSON=function(e){return n(e,!0)},c.remove=function(e,n){t(e,"",f(n,{expires:-1}))},c.defaults={},c.withConverter=e,c}(function(){})});
"use strict";!function(i){function n(n){var s=Cookies.get("is_local_branch");void 0!==s&&null!=s?"function"==typeof n&&n():i.ajax({url:"".concat(window.bwEnvironment.coreUrl,"/widgets/is_local_branch.json?callback=?"),contentType:"application/json",dataType:"jsonp",success:function(s){Cookies.set("is_local_branch",s.is_local_branch),"function"==typeof n&&n()}})}function o(){var s=i(this).parents(".js-sysmsg"),n=s.data("msgid"),e=Cookies.get("cms_hidden_messages"),o=[];(o=void 0!==e&&null!=e?e.split(":"):o).push(n),Cookies.set("cms_hidden_messages",o.join(":"),{path:"/"}),s.fadeOut(),i.ajax({url:"".concat(window.bwEnvironment.coreUrl,"/widgets/hide_system_message.json?callback=?"),data:{id:n},dataType:"jsonp"})}function e(){var n,e,s=Cookies.get("cms_hidden_messages"),t=[],a=(void 0!==s&&null!=s&&(t=s.split(":")),Cookies.get("is_local_branch")),c=(n=this.entities.systemMessages,e=[],Object.keys(n).forEach(function(s){"EVERYWHERE"!==n[s].destination&&"CMS"!==n[s].destination||e.push(n[s]),e.sort(function(s,n){var e={CRITICAL:0,HIGH:1,MEDIUM:2,LOW:3};return e[s.priority]-e[n.priority]})}),e);Object.keys(c).forEach(function(s){var n="",e=!1,o=(void 0!==a&&null!=a&&"false"!==a&&(n="display: none",e=!0),"display: none");-1!==i.inArray(c[s].id.toString(),t)&&!e||(o="display: block"),i(".systemMessages").append('<div class="sys_message js-sysmsg" style="'.concat(o,'" data-msgid="').concat(c[s].id,'">')+"<p> ".concat(c[s].message," </p>")+'<button style="'.concat(n,'" class="close_btn js-sysmsg__close">')+'<span class="a11y-visually-hidden"> '.concat(bwSysMsgL10n.close," </span> ").concat(bwSysMsgL10n.svg.closeButton)+"</button> </div>")}),i(".js-sysmsg__close").on("click",o)}i(document).ready(function(){n(null),i.ajax({method:"GET",url:"".concat(window.bwEnvironment.gatewayUrl,"/systemMessages"),cache:!1}).success(function(s){n(e.bind(s))})})}(jQuery);