"use strict";!function(p){var g;Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;0<=--r&&t.item(r)!==this;);return-1<r}),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType);return null}),void 0===window.bwCards&&(window.bwCards=((g={debounce:function(i,o){var n;return function(){for(var e=this,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(function(){return i.apply(e,r)},o)}},cardImagesIsResponsive:null,cardImagesLoad:function(){var e=".js-card__image-outer-container",t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:document).querySelectorAll(e=!0===(1<arguments.length&&void 0!==arguments[1]&&arguments[1])?'.js-card__image-outer-container[data-img-size="bw_card_image_1_1"]':e),r=t.length;g.cardImagesIsResponsive=window.matchMedia("(max-width: 767px)").matches;for(var a=0;a<r;a+=1){var i,o,n,s,c,l=t[a].querySelector(".js-card__image-inner-container"),d=t[a].querySelector(".js-card__image"),u=d.dataset,m=!1,_=null,b=null,b="bw_card_image_1_1"!==t[a].getAttribute("data-img-size")||g.cardImagesIsResponsive?(d.src!==u["src-2-1"]&&(m=!0,l.classList.remove("o-card__image-inner-container--faux-square"),l.classList.remove("o-card__image-inner-container--faux-square@responsive"),d.src=u["src-2-1"],d.alt=u["alt-2-1"],l.classList.add("o-card__image-inner-container--faux-rectangle")),_=u["i-2-1"],void 0!==u["attr-2-1"]?"2-1":"none"):(d.src!==u["src-1-1"]&&(m=!0,l.classList.remove("o-card__image-inner-container--faux-rectangle"),d.src=u["src-1-1"],d.alt=u["alt-1-1"],l.classList.add("o-card__image-inner-container--faux-square"),l.classList.add("o-card__image-inner-container--faux-square@responsive")),_=u["i-1-1"],void 0!==u["attr-1-1"]?"1-1":"none");m&&(d=t[a].querySelector(".js-card__image-wrapper"),"true"===_?(d.removeAttribute("aria-hidden"),d.removeAttribute("tabindex")):"false"===_&&(d.setAttribute("aria-hidden","true"),d.setAttribute("tabindex","-1"))),b&&(m=(l=t[a].querySelector(".js-attribution")).querySelector(".js-attribution__body"),d=l.querySelector(".js-attribution__body-wrapper"),i=l.querySelector(".js-attribution__close"),o=l.querySelector(".js-attribution__close-title"),n=l.querySelector(".js-attribution__open"),s=l.querySelector(".js-attribution__open-wrapper"),c=l.querySelector(".js-attribution__open-title"),"none"!==b?(m.innerHTML=decodeURIComponent(u["attr-".concat(b)]),c.innerHTML=p.openImgAttrTitle.replace("%s",u["title-".concat(b)]),o.innerHTML=p.closeImgAttrTitle.replace("%s",u["title-".concat(b)]),"true"===_?(n.removeAttribute("aria-hidden"),n.removeAttribute("tabindex"),i.removeAttribute("aria-hidden"),i.removeAttribute("tabindex")):(n.setAttribute("aria-hidden","true"),n.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),i.setAttribute("tabindex","-1")),l.classList.remove("o-card__attribution--2-1-only"),l.classList.remove("o-card__attribution--2-1-only@responsive"),l.classList.remove("o-card__attribution--1-1-only"),l.classList.remove("o-card__attribution--1-1-only@responsive"),l.classList.remove("d-none"),g.imageAttrsLoad(l)):"true"!==l.getAttribute("data-attr-load")&&(l.classList.add("d-none"),d.classList.add("d-none"),s.classList.remove("d-none"),n.setAttribute("aria-hidden","true"),n.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),i.setAttribute("tabindex","-1"),c.innerHTML="",o.innerHTML="",m.innerHTML=""))}},cardImagesDomContentLoaded:function(){g.cardImagesIsResponsive=window.matchMedia("(max-width: 767px)").matches,g.cardImagesLoad()}}).cardImagesResize=g.debounce(function(){var e=window.matchMedia("(max-width: 767px)").matches;g.cardImagesIsResponsive!==e&&(g.cardImagesIsResponsive=e,g.cardImagesLoad(document,!0))},100),g.imageAttrCloseClick=function(e){e=e.target.closest(".js-attribution");e.querySelector(".js-attribution__body-wrapper").classList.add("d-none"),e.querySelector(".js-attribution__open-wrapper").classList.remove("d-none"),e.querySelector(".js-attribution__open").focus()},g.imageAttrsLoad=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,t=[e],r=(t=" ".concat(e.className," ").replace(/[\n\t]/g," ").indexOf(" js-attribution ")<0?e.querySelectorAll(".js-attribution"):t,t.length),a=0;a<r;a+=1)"true"!==t[a].getAttribute("data-attr-loaded")&&(t[a].setAttribute("data-attr-loaded","true"),t[a].querySelector(".js-attribution__close").addEventListener("click",g.imageAttrCloseClick),t[a].querySelector(".js-attribution__open").addEventListener("click",g.imageAttrOpenClick))},g.imageAttrOpenClick=function(e){var e=e.target.closest(".js-attribution"),t=e.querySelector(".js-attribution__body-wrapper"),r=t.querySelector("a");e.querySelector(".js-attribution__open-wrapper").classList.add("d-none"),t.classList.remove("d-none"),(null!==r?r:e.querySelector(".js-attribution__close")).focus()},g.imageAttrsUnload=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,t=[e],r=(t=" ".concat(e.className," ").replace(/[\n\t]/g," ").indexOf(" js-attribution ")<0?e.querySelectorAll(".js-attribution"):t,t.length),a=0;a<r;a+=1)"true"===t[a].getAttribute("data-attr-loaded")&&(t[a].setAttribute("data-attr-loaded","false"),t[a].querySelector(".js-attribution__close").removeEventListener("click",g.imageAttrCloseClick),t[a].querySelector(".js-attribution__open").removeEventListener("click",g.imageAttrOpenClick))},g))}(cardsL10n);
"use strict";!function(n){n.fn.bwCardsPoll=function(){var s={displayPollResults:function(l,o,e){var s=n(".js-poll__poll-".concat(l.form_id));s.addClass("js-poll__has-modal-results"),!0===e&&s.addClass("js-poll__has-modal-voted"),s.find(".o-card-poll__preview").addClass("o-card-poll__preview--hide"),s.find(".o-card-poll__results").removeClass("o-card-poll__results--hide"),s.find(".o-card-poll__voted").removeClass("o-card-poll__voted--hide");for(var t=0;t<l.results.length;t+=1)s.find(".js-poll__count-".concat(t)).html(l.results[t].total_entries),s.find(".js-poll__bar-".concat(t)).css("width","".concat(l.results[t].modified_ratio,"%"));s.find(".js-poll__bar").removeClass("o-card-poll__bar-inner-wrapper--hide"),s.trigger("displayPollResult"),n(o).find(".js-poll__result-title").attr("tabIndex",-1).trigger("focus")},submitPoll:function(o){var l=n(o);n.ajax({method:"POST",url:"/wp-json/bw/v3/poll/submit/",headers:{"X-WP-Nonce":window.bwEnvironment.nonce},data:l.find(".js-poll__form").serialize()}).success(function(l){s.displayPollResults(l,o,!0)}).fail(function(l){o.querySelector("[data-key=card-poll-submit]").disabled=!1,console.log(l)})},getPollResults:function(o){var l=n(o).find(".js-poll__form-id").val();n.ajax({method:"GET",url:"/wp-json/bw/v3/poll/result/".concat(l),headers:{"X-WP-Nonce":window.bwEnvironment.nonce}}).success(function(l){s.displayPollResults(l,o,!1)}).fail(function(l){console.log(l)})},openPoll:function(l){var o=n(l),e=o.find(".js-poll__form-id").val(),o=(n(".js-current-modal").remove(),o.find(".js-poll__modal").clone()),e=(o.removeClass("c-modal--hide c-modal__shadow--hide"),n('<div class="js-current-modal js-poll js-poll__poll-'.concat(e,'"></div>')));e.append(o).on("submit",".js-poll__form",s.onSubmit).on("click",".js-poll__choice",s.onClickChoice).on("click",".js-poll__other-input",s.onClickOtherInput).on("click",".js-poll__skip-to-results",s.onClickSkipToResults).on("click",".js-poll__shadow-close",{poll:l},s.onClickShadowClose).on("click",".js-poll__close",{poll:l},s.onClickClose).on("keyup",{poll:l},s.onKeyUpClose),n("body").append(e).addClass("c-body--modal"),BCFocusManager.restrict_focus(o),o.find(".js-poll__preview-title").attr("tabIndex",-1).trigger("focus")},closePoll:function(l){BCFocusManager.restore_focus(),n("body").removeClass("c-body--modal"),n(".js-current-modal").remove(),n(l).find(".js-poll__has-modal-title").attr("tabIndex",-1).trigger("focus")},onSubmit:function(l){l.preventDefault();var l=n(l.target).parents(".js-poll")[0],o=l.querySelector("[data-key=card-poll-submit]");o.disabled||(o.disabled=!0,s.submitPoll(l))},onClickChoice:function(l){var l=n(l.target),o=l.parents(".js-poll")[0],o=n(o);"gf_other_choice"===l.val()?(o.find(".js-poll-other-tag").removeAttr("aria-hidden"),o.find(".js-poll__other-input").removeAttr("tabIndex")):(o.find(".js-poll-other-tag").attr("aria-hidden","true"),o.find(".js-poll__other-input").attr("tabIndex",-1).addClass("bc_focus_disabled"))},onClickOtherInput:function(l){l=n(l.target).parents(".js-poll")[0];n(l).find(".js-poll__choice--other").click()},onClickSkipToResults:function(l){l=n(l.target).parents(".js-poll")[0];s.getPollResults(l)},onClickOpen:function(l){l=n(l.target).parents(".js-poll")[0];s.openPoll(l)},onClickShadowClose:function(l){l.target===this&&s.closePoll(l.data.poll)},onClickClose:function(l){s.closePoll(l.data.poll)},onKeyUpClose:function(l){27===l.keyCode&&s.closePoll(l.data.poll)}};return this.each(function(l,o){n(o).on("submit",".js-poll__form",s.onSubmit).on("click",".js-poll__choice",s.onClickChoice).on("click",".js-poll__other-input",s.onClickOtherInput).on("click",".js-poll__skip-to-results",s.onClickSkipToResults).on("click",".js-poll__open",s.onClickOpen)})}}(jQuery);
"use strict";!function(e,i){var n;void 0===e.bwBB&&(e.bwBB=((n={fontSizePxBase:16,debounce:function(n,o){var r;return function(){for(var e=this,a=arguments.length,t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];clearTimeout(r),r=setTimeout(function(){return n.apply(e,t)},o)}},builderCatalogCommentImageContainerHeight:function(){var e=i(".fl-col-group");i.each(e,function(e,a){var t,a=i(a).find(".js-card-catalog-comment__image-container");a.attr("style",""),1<a.length&&0<(t=a.find(".js-card-catalog-comment__image").get().reduce(function(e,a){return Math.max(e,i(a).height())},0)/n.fontSizePxBase)&&a.css({height:"".concat(t,"rem")})})}}).delayedbuilderCatalogCommentImageContainerHeight=n.debounce(n.builderCatalogCommentImageContainerHeight,100),n.displayFillerJacket=function(e){e=i(e),e=i(e.parents(".js-card-catalog-comment__image-wrapper")[0]);e.hide(),e.prev(".js-card-catalog-comment__jacket-wrapper").attr("style","display:flex"),e.trigger("jacketValidation"),n.builderCatalogCommentImageContainerHeight()},n.jacketCoverValidation=function(e){0<parseInt(e.height,10)&&0<parseInt(e.width,10)&&(i(e).removeClass("js-card-catalog-comment__image--unverified"),1===parseInt(e.height,10)&&1===parseInt(e.width,10)&&n.displayFillerJacket(e))},n.applyImageOnloadAction=function(){var t=i(".js-card-catalog-comment__image--unverified");i.each(t,function(e,a){1===a.height&&1===a.width||""===i(a).attr("src")?n.displayFillerJacket(a):t[e].onload=n.jacketCoverValidation(a)})},n.builderLazyLoadImages=function(){var t=document.querySelectorAll("[data-src]");i.each(t,function(e,a){t[e].src=a.dataset.src,a.removeAttribute("data-src")})},n.delayedbuilderLazyLoadImages=n.debounce(n.builderLazyLoadImages,10),n.builderAddFaqAction=function(){var e=document.querySelectorAll(".js-faq__title.js-faq__title--not-init");i.each(e,function(e,a){a.addEventListener("click",function(e){var e=i(e.currentTarget),a=e.closest(".js-faq").find(".js-faq__description"),t=i(a);"true"===e.attr("aria-expanded")||a.is(":visible")?(t.slideUp({duration:75,easing:"linear"}),e.attr("aria-expanded","false").focus()):(e.attr("aria-expanded","true"),t.slideDown({duration:150,easing:"linear"}).attr("tabindex","-1").focus())}),a.classList.remove("js-faq__title--not-init")})},n.delayedbuilderAddFaqAction=n.debounce(n.builderAddFaqAction,10),n.builderViewMoreHolidaysAction=function(){var e=document.querySelectorAll(".js-holidays-closures__view-more.js-holidays-closures__view-more--not-init");i.each(e,function(e,a){a.addEventListener("click",function(e){var e=i(e.currentTarget),a=e.closest(".js-holidays-closures").find(".js-holidays-closures__holidays"),a=i(a),a=i(a.find(".js-holidays-closures__holiday-more"));"true"===e.attr("aria-expanded")?(e.attr("aria-expanded","false"),a.addClass("c-holidays-closures__holiday--collapsed")):(e.attr("aria-expanded","true"),a.removeClass("c-holidays-closures__holiday--collapsed"),a.first().attr("tabindex","-1").focus())})})},n.delayedbuilderViewMoreHolidaysAction=n.debounce(n.builderViewMoreHolidaysAction,10),n.builderHoursAndInfoReadMoreAction=function(){var e=document.querySelectorAll(".js-hours-info__read-more.js-hours-info__read-more--not-init");i.each(e,function(e,a){a.addEventListener("click",function(e){var e=i(e.currentTarget),a=e.closest(".js-hours-info__description"),a=i(a),t=i(a.find(".js-hours-info__description-collapsed")),a=i(a.find(".js-hours-info__description-expanded"));"true"===e.attr("aria-expanded")?(e.attr("aria-expanded","false"),t.attr("style","display:inline"),a.attr("style","display:none")):(e.attr("aria-expanded","true"),t.attr("style","display:none"),a.attr("style","display:inline"))}),a.classList.remove(".js-hours-info__read-more--not-init")})},n.delayedbuilderHoursAndInfoReadMoreAction=n.debounce(n.builderHoursAndInfoReadMoreAction,10),n.builderViewAmenitiesAction=function(){var e=document.querySelectorAll(".js-amenity__title.js-amenity__title--not-init");i.each(e,function(e,a){a.addEventListener("click",function(e){var e=i(e.currentTarget),a=e.closest(".js-amenity").find(".js-amenity__content"),a=i(a);"true"===e.attr("aria-expanded")||a.is(":visible")?(a.slideUp({duration:75,easing:"linear"}),e.attr("aria-expanded","false").focus()):(e.attr("aria-expanded","true"),a.slideDown({duration:150,easing:"linear"}).attr("tabindex","-1").focus())}),a.classList.remove("js-amenity__title--not-init")})},n.delayedbuilderViewAmenitiesAction=n.debounce(n.builderViewAmenitiesAction,10),n.cardJs=function(){i(".js-poll.js-poll--not-init").bwCardsPoll().removeClass("js-poll--not-init"),n.applyImageOnloadAction()},n.delayedCardJs=n.debounce(n.cardJs,10),n)),i(e).on("load",e.bwBB.delayedbuilderCatalogCommentImageContainerHeight),i(e).on("load",e.bwBB.delayedbuilderLazyLoadImages),i(e).on("load",e.bwBB.delayedbuilderAddFaqAction),i(e).on("load",e.bwBB.delayedbuilderViewMoreHolidaysAction),i(e).on("load",e.bwBB.delayedbuilderHoursAndInfoReadMoreAction),i(e).on("load",e.bwBB.delayedbuilderViewAmenitiesAction),i(e).on("load",e.bwBB.delayedCardJs),i(e).on("load",e.bwBB.applyImageOnloadAction),e.addEventListener("resize",e.bwBB.delayedbuilderCatalogCommentImageContainerHeight),e.addEventListener("resize",e.bwCards.cardImagesResize)}(window,jQuery);