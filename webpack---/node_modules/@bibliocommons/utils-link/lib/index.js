"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.metadataIdFixer = exports.getAuthorLink = exports.default = void 0;

var _padStart2 = _interopRequireDefault(require("lodash/padStart"));

var metadataIdFixer = function metadataIdFixer(id) {
  if (!id) {
    throw new Error('metadataIdFixer requires a metadataId');
  } // Support Legacy Bib IDs


  if (id.match(/^\d+$/)) {
    return id;
  }

  var _id$split = id.split(/[SC]/g),
      _blank = _id$split[0],
      sourceLibId = _id$split[1],
      bibId = _id$split[2]; // eslint-disable-line no-unused-vars


  var paddedSourceLibId = (0, _padStart2.default)(sourceLibId, 3, '0');
  return "" + bibId + paddedSourceLibId;
};

exports.metadataIdFixer = metadataIdFixer;

var getAuthorLink = function getAuthorLink(author) {
  return "/search?q=" + encodeURIComponent(author) + "&search_category=author&t=author";
}; // TODO: get rid of the default export.  named exports only in utils/helper files


exports.getAuthorLink = getAuthorLink;
var _default = {
  metadataIdFixer: metadataIdFixer,
  getAuthorLink: getAuthorLink
};
exports.default = _default;